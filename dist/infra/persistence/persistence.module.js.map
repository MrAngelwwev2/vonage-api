{"version":3,"sources":["../../../src/infra/persistence/persistence.module.ts"],"sourcesContent":["import { DynamicModule, Module } from '@nestjs/common';\nimport { MongooseModule } from './mongoose/mongoose.module';\n\ninterface DatabaseOptions {\n    type: 'prisma' | 'mongoose';\n    global?: boolean;\n}\n\n@Module({})\nexport class PersistenceModule {\n    static async register({ global = false, type }: DatabaseOptions): Promise<DynamicModule> {\n        return {\n            global,\n            module: PersistenceModule,\n            imports: [ MongooseModule],\n            exports: [MongooseModule],\n        };\n    };\n}"],"names":["PersistenceModule","register","global","type","module","imports","MongooseModule","exports","Module"],"mappings":";;;;+BASaA;;;eAAAA;;;wBATyB;gCACP;;;;;;;AAQxB,IAAA,AAAMA,oBAAN,MAAMA;IACT,aAAaC,SAAS,EAAEC,SAAS,KAAK,EAAEC,IAAI,EAAmB,EAA0B;QACrF,OAAO;YACHD;YACAE,QAAQJ;YACRK,SAAS;gBAAEC,8BAAc;aAAC;YAC1BC,SAAS;gBAACD,8BAAc;aAAC;QAC7B;IACJ;AACJ;AATaN;IADZQ,IAAAA,cAAM,EAAC,CAAC;GACIR"}