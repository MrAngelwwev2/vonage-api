{"version":3,"sources":["../src/main.ts"],"sourcesContent":["import { NestFactory } from '@nestjs/core';\nimport { AppModule } from './app.module';\n\nimport { EnvService } from './infra/env/env.service';\nimport { DocumentBuilder, SwaggerModule } from '@nestjs/swagger';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule\n  );\n  const configService = app.get(EnvService)\n  const port = configService.get('PORT')\n  function getSwaggerServerUrl() {\n    switch (process.env.NODE_ENV) {\n      case 'production':\n        return '';\n      default:\n        return `http://localhost:${port}`;\n    }\n  }\n  const config = new DocumentBuilder()\n    .setTitle('API')\n    .setVersion('0.1')\n    .addServer(getSwaggerServerUrl())\n    .build();\n  const document = SwaggerModule.createDocument(app, config);\n  SwaggerModule.setup('api', app, document);\n\n  await app.listen(port);\n}\nbootstrap();\n"],"names":["bootstrap","app","NestFactory","create","AppModule","configService","get","EnvService","port","getSwaggerServerUrl","process","env","NODE_ENV","config","DocumentBuilder","setTitle","setVersion","addServer","build","document","SwaggerModule","createDocument","setup","listen"],"mappings":";;;;sBAA4B;2BACF;4BAEC;yBACoB;AAE/C,eAAeA;IACb,MAAMC,MAAM,MAAMC,iBAAW,CAACC,MAAM,CAACC,oBAAS;IAE9C,MAAMC,gBAAgBJ,IAAIK,GAAG,CAACC,sBAAU;IACxC,MAAMC,OAAOH,cAAcC,GAAG,CAAC;IAC/B,SAASG;QACP,OAAQC,QAAQC,GAAG,CAACC,QAAQ;YAC1B,KAAK;gBACH,OAAO;YACT;gBACE,OAAO,CAAC,iBAAiB,EAAEJ,KAAK,CAAC;QACrC;IACF;IACA,MAAMK,SAAS,IAAIC,wBAAe,GAC/BC,QAAQ,CAAC,OACTC,UAAU,CAAC,OACXC,SAAS,CAACR,uBACVS,KAAK;IACR,MAAMC,WAAWC,sBAAa,CAACC,cAAc,CAACpB,KAAKY;IACnDO,sBAAa,CAACE,KAAK,CAAC,OAAOrB,KAAKkB;IAEhC,MAAMlB,IAAIsB,MAAM,CAACf;AACnB;AACAR"}